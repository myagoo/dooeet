(this.webpackJsonpdooeet=this.webpackJsonpdooeet||[]).push([[0],{21:function(e,t,n){e.exports=n(32)},26:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),o=n.n(c),i=(n(26),n(2)),s=Object(i.b)("button",{css:{borderRadius:2,minWidth:0,minHeight:0,flex:"none",fontWeight:"bold",border:"none",fontSize:"inherit",color:"inherit",background:"none",cursor:"pointer",p:2,"&:disabled":{opacity:.3,cursor:"not-allowed"},"&:focus":{outline:"none"},"&:active":{filter:"invert(1)"}}}),u=Object(i.c)(s,{css:{border:"2px solid",borderRadius:2}}),l=Object(i.c)(s,{css:{bg:"accent",color:"accentText"}}),f=n(8),d=n(20),b=Object(i.b)("div",(function(e){var t=e.css,n=Object(d.a)(e,["css"]);return Object(f.a)({css:Object(i.d)(Object(f.a)({display:"flex",minWidth:0,minHeight:0,flex:"none",alignSelf:"auto",alignItems:"stretch",flexDirection:"column",justifyContent:"flex-start"},t))},n)})),m=n(14);n(27),n(29),n(33);m.initializeApp({apiKey:"AIzaSyA8dy0me89LJvHSQ6fIeGxMAgrxMRvIVaQ",authDomain:"dooeet-a7f63.firebaseapp.com",databaseURL:"https://dooeet-a7f63.firebaseio.com",projectId:"dooeet-a7f63",storageBucket:"dooeet-a7f63.appspot.com",messagingSenderId:"277490811595",appId:"1:277490811595:web:77db5abd685a14ed2d514e",measurementId:"G-RLVZ0BRR64"}),m.auth().getRedirectResult().then((function(e){console.info("Auth redirect success",e)})).catch((function(e){console.error("Auth redirect error",e)}));var p=m,h=function(){return a.a.createElement(b,{css:{flex:"1",bg:"red"}},a.a.createElement(l,{onClick:function(){var e=new p.auth.GoogleAuthProvider;p.auth().signInWithRedirect(e)}},"Login"))},g=n(11),x=Object(i.b)("div",{css:{display:"inline",minWidth:0,minHeight:0,flex:"none"}}),v=Object(i.c)(x,{css:{fontSize:"large",fontWeight:"bold"}}),y=Object(i.c)(x,{as:"small",css:{opacity:.75}}),k=n(5),O={breakpoints:{s:"40em",m:"52em",l:"64em"},space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},j=Object(f.a)({},O,{colors:{primary:"#673AB7",primaryText:"#ffffffe0",lightPrimary:"#D1C4E9",lightPrimaryText:"#000000e0",accent:"#FF4081",accentText:"#ffffffe0",background:"#FFFFFF",backgroundText:"#000000e0",secondaryBackgroundText:"#00000080",divider:"#BDBDBD"},name:"light"}),E=Object(f.a)({},O,{colors:{primary:"#673AB7",primaryText:"#ffffffe0",lightPrimary:"#D1C4E9",lightPrimaryText:"#212121",accent:"#FF4081",accentText:"#ffffffe0",background:"#212121",backgroundText:"#ffffffe0",secondaryBackgroundText:"#ffffff80",divider:"#BDBDBD"},name:"dark"}),w=Object(r.createContext)((function(){})),S=function(e){var t=e.children,n=Object(r.useState)(j),c=Object(k.a)(n,2),o=c[0],s=c[1];return a.a.createElement(i.a.Provider,{value:o},a.a.createElement(w.Provider,{value:function(){return s(o===j?E:j)}},t))},D=function(){var e=Object(r.useContext)(i.a),t=Object(r.useContext)(w);return a.a.createElement(b,{css:{flexDirection:"row",bg:"primary",color:"primaryText",p:3,alignItems:"baseline",justifyContent:"space-between"}},a.a.createElement(b,{css:{flexDirection:"row",alignItems:"baseline",gap:3}},a.a.createElement(v,{css:{fontWeight:"bold"}},"DOOEET"),a.a.createElement(b,{css:{cursor:"pointer"},as:"light"===e.name?g.a:g.b,onClick:t})),a.a.createElement(b,{css:{flexDirection:"row",alignItems:"baseline",gap:3}},a.a.createElement(y,null,p.auth().currentUser.email),a.a.createElement(u,{onClick:function(){p.auth().signOut()}},"Logout")))},C=n(4),I=n.n(C),B=n(7),T=n(6),F=Object(i.b)("input",{type:"text",css:{color:"lightPrimaryText",fontSize:"inherit",bg:"lightPrimary",border:"none",borderRadius:2,borderColor:"currentColor",p:2,"&:disabled":{opacity:.5,cursor:"not-allowed"},"&:focus":{outline:"none"}}}),z=function(){var e=Object(r.useState)(""),t=Object(k.a)(e,2),n=t[0],c=t[1],o=Object(T.e)(),i=Object(T.d)("todos",Object(B.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.database().ref("users/".concat(p.auth().currentUser.uid,"/todos")).once("value").then((function(e){console.log(e);var t=[];return e.forEach((function(e){t.push(Object(f.a)({key:e.key},e.val()))})),t.reverse()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),s=i.isLoading,d=i.data,m=Object(T.c)(function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.database().ref("users/".concat(p.auth().currentUser.uid,"/todos")).push(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){o.invalidateQueries("todos")}}),h=Object(k.a)(m,2),v=h[0],y=h[1].isLoading,O=Object(T.c)(function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.database().ref("users/".concat(p.auth().currentUser.uid,"/todos/").concat(t)).remove();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){o.invalidateQueries("todos")}}),j=Object(k.a)(O,2),E=j[0],w=j[1].isLoading,S=Object(T.c)(function(){var e=Object(B.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.key,r=t.todo,e.t0=console.log(r),e.t0){e.next=6;break}return e.next=5,p.database().ref("users/".concat(p.auth().currentUser.uid,"/todos/").concat(n)).update(r);case 5:e.t0=e.sent;case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){o.invalidateQueries("todos")}}),D=Object(k.a)(S,1)[0],C=function(){var e=Object(B.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({text:n,completed:!1});case 2:c("");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(B.a)(I.a.mark((function e(t,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({key:t,todo:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),"Enter"!==t.key||!n.trim()){e.next=6;break}return e.next=4,v({text:n,completed:!1});case 4:c(""),t.target.focus();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?a.a.createElement(x,null,"Loading..."):a.a.createElement(b,{css:{flex:"1",alignItems:"center",gap:3}},a.a.createElement(b,{css:{flexDirection:"row",gap:3}},a.a.createElement(F,{autoFocus:!0,value:n,onChange:function(e){return c(e.target.value)},disabled:y,onKeyPress:A}),a.a.createElement(l,{disabled:y,onClick:C},"Add")),a.a.createElement(b,{css:{gap:3}},d.map((function(e){return a.a.createElement(b,{key:e.key,css:{flexDirection:"row",gap:"10px",alignItems:"center"}},a.a.createElement(F,{type:"checkbox",checked:e.completed,onChange:function(){return R(e.key,{completed:!e.completed})},disabled:y}),a.a.createElement(x,{css:{textDecoration:e.completed&&"line-through"},deps:[e.completed]},e.text),a.a.createElement(u,{disabled:w,onClick:function(){return z(e.key)}},"Delete ",a.a.createElement(g.c,null)))}))))};var R=function(){var e=function(){var e=Object(r.useState)({initializing:!0,user:null}),t=Object(k.a)(e,2),n=t[0],a=t[1];function c(e){a({initializing:!1,user:e})}return Object(r.useEffect)((function(){var e=p.auth().onAuthStateChanged(c);return function(){return e()}}),[]),n}(),t=e.initializing,n=e.user;return Object(i.e)({body:{m:0,bg:"background",color:"backgroundText",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",\n        "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",\n        "Helvetica Neue", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",transition:"background-color 250ms"},"body, html, #root":{height:"100%"},"#root":{display:"flex",flexDirection:"column",padding:"\n        env(safe-area-inset-top, 0)\n        env(safe-area-inset-right, 0)\n        env(safe-area-inset-bottom, 0)\n        env(safe-area-inset-left, 0)\n      "},"*":{boxSizing:"border-box",userSelect:"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},"input, textarea":{"-webkit-user-select":"initial","-moz-user-select":"initial","-ms-user-select":"initial",userSelect:"initial"}}),t?a.a.createElement(b,{css:{flex:"1"}},a.a.createElement(x,null,"Loading...")):n?a.a.createElement(b,{css:{flex:"1"}},a.a.createElement(D,null),a.a.createElement(z,null)):a.a.createElement(h,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(19),L=new T.a;o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T.b,{queryCache:L},a.a.createElement(S,null,a.a.createElement(R,null)),a.a.createElement(A.ReactQueryDevtools,{initialIsOpen:!0}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.4060adaf.chunk.js.map